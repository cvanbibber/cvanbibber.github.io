{"ast":null,"code":"import React,{useEffect,useRef,useCallback}from'react';import{useReducedMotion}from'motion/react';// Redesigned CircuitField: subtle but technical\n// - Thick power rail shows electron flow (−) and V/I indicators\n// - Several low-voltage signal lines with positive carriers (+) easily pushed by a positive cursor\n// - Tasteful random pulses and electronics symbols (resistor, capacitor, diode, op-amp, ground)\n// - Performance: dual-canvas, DPR-capped, offscreen pause, reduced-motion static fallback\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CircuitField=()=>{const staticRef=useRef(null);const dynamicRef=useRef(null);const runningRef=useRef(false);const rafRef=useRef(null);const reduceMotion=useReducedMotion();const dprRef=useRef(1);const timeRef=useRef(0);const mouse=useRef({x:0,y:0,active:false,charge:1});// +1 positive probe, Alt toggles -1\nconst stateRef=useRef(null);const rand=(a,b)=>Math.random()*(b-a)+a;const clamp=(v,lo,hi)=>Math.max(lo,Math.min(hi,v));// Build a left-to-right polyline with slight vertical variation\nconst makeSignal=(w,y,dpr,label,color,stiffness,tubeR)=>{const points=[];const cols=6;for(let i=0;i<cols;i++){const x=i/(cols-1)*(w-40*dpr)+20*dpr;// 20px margin\nconst yj=y+rand(-8,8)*dpr;points.push({x0:x,y0:yj,x,y:yj});}// Segments and total length\nconst segs=[];let total=0;for(let i=0;i<points.length-1;i++){const ax={x:points[i].x,y:points[i].y};const bx={x:points[i+1].x,y:points[i+1].y};const len=Math.hypot(bx.x-ax.x,bx.y-ax.y);segs.push({ax,bx,len});total+=len;}const carriers=new Array(9).fill(0).map((_,i)=>({s:i/9*total,v:rand(0.045,0.08)*dpr,charge:1}));return{points,segs,total,carriers,color,tubeR,label,stiffness};};const pointAt=(sig,s)=>{// wrap s into [0,total]\nlet d=s%sig.total;if(d<0)d+=sig.total;for(let i=0;i<sig.segs.length;i++){const seg=sig.segs[i];if(d<=seg.len){const t=seg.len?d/seg.len:0;return{x:seg.ax.x+(seg.bx.x-seg.ax.x)*t,y:seg.ax.y+(seg.bx.y-seg.ax.y)*t};}d-=seg.len;}// fallback end\nconst last=sig.segs[sig.segs.length-1];return{x:last.bx.x,y:last.bx.y};};const drawSymbols=(ctx,syms,dpr)=>{ctx.save();ctx.strokeStyle='rgba(148,163,184,0.55)';// slate-400\nctx.fillStyle='rgba(148,163,184,0.7)';ctx.lineWidth=1*dpr;for(const s of syms){if(s.kind==='ground'){const{x,y}=s.at;ctx.beginPath();ctx.moveTo(x,y-10*dpr);ctx.lineTo(x,y-2*dpr);ctx.stroke();ctx.beginPath();ctx.moveTo(x-6*dpr,y);ctx.lineTo(x+6*dpr,y);ctx.stroke();ctx.beginPath();ctx.moveTo(x-4*dpr,y+3*dpr);ctx.lineTo(x+4*dpr,y+3*dpr);ctx.stroke();ctx.beginPath();ctx.moveTo(x-2*dpr,y+6*dpr);ctx.lineTo(x+2*dpr,y+6*dpr);ctx.stroke();}else if(s.kind==='resistor'){const{x,y}=s.at;const ang=s.angle;const ux=Math.cos(ang),uy=Math.sin(ang);const px=-uy,py=ux;ctx.beginPath();const L=24*dpr;const off=4*dpr;ctx.moveTo(x-ux*L,y-uy*L);for(let i=-5;i<=5;i++){const zig=i%2===0?off:-off;const t=i/5*(L*0.7);ctx.lineTo(x+ux*t+px*zig,y+uy*t+py*zig);}ctx.lineTo(x+ux*L,y+uy*L);ctx.stroke();}else if(s.kind==='capacitor'){const{x,y}=s.at;const ang=s.angle;const ux=Math.cos(ang),uy=Math.sin(ang);const px=-uy,py=ux;const L=9*dpr,plate=6*dpr;ctx.beginPath();ctx.moveTo(x-ux*L+px*plate,y-uy*L+py*plate);ctx.lineTo(x-ux*L-px*plate,y-uy*L-py*plate);ctx.stroke();ctx.beginPath();ctx.moveTo(x+ux*L+px*plate,y+uy*L+py*plate);ctx.lineTo(x+ux*L-px*plate,y+uy*L-py*plate);ctx.stroke();}else if(s.kind==='diode'){const{x,y}=s.at;const ang=s.angle;const ux=Math.cos(ang),uy=Math.sin(ang);const px=-uy,py=ux;const L=16*dpr;// triangle\nctx.beginPath();ctx.moveTo(x-ux*L*0.6,y-uy*L*0.6);ctx.lineTo(x,y);ctx.lineTo(x-px*L*0.5-ux*L*0.2,y-py*L*0.5-uy*L*0.2);ctx.closePath();ctx.stroke();// bar\nctx.beginPath();ctx.moveTo(x+ux*L*0.4+px*L*0.5,y+uy*L*0.4+py*L*0.5);ctx.lineTo(x+ux*L*0.4-px*L*0.5,y+uy*L*0.4-py*L*0.5);ctx.stroke();}else if(s.kind==='opamp'){const{x,y}=s.at;const ang=s.angle;const ux=Math.cos(ang),uy=Math.sin(ang);const px=-uy,py=ux;const L=22*dpr;// triangle body\nctx.beginPath();ctx.moveTo(x-ux*L,y-uy*L);ctx.lineTo(x+px*L*0.6,y+py*L*0.6);ctx.lineTo(x-px*L*0.6,y-py*L*0.6);ctx.closePath();ctx.stroke();// + and - inputs\nctx.font=\"\".concat(Math.max(9,10*dpr),\"px system-ui, -apple-system, Segoe UI, Roboto, sans-serif\");ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('+',x-px*L*0.9,y-py*L*0.9);ctx.fillText('-',x+px*L*0.9,y+py*L*0.9);}}ctx.restore();};const init=useCallback(()=>{const sCanvas=staticRef.current;const dCanvas=dynamicRef.current;if(!sCanvas||!dCanvas)return;const rect=sCanvas.getBoundingClientRect();const dpr=Math.min(window.devicePixelRatio||1,1.75);// cap for perf\ndprRef.current=dpr;const w=Math.max(1,Math.floor(rect.width*dpr));const h=Math.max(1,Math.floor(rect.height*dpr));sCanvas.width=w;sCanvas.height=h;dCanvas.width=w;dCanvas.height=h;// Power rail\nconst railY=Math.round(h*0.22);const rail={y:railY,thickness:Math.max(3,4*dpr),voltage:5.0,carriers:new Array(18).fill(0).map(()=>({x:Math.random()*w,v:(0.07+Math.random()*0.05)*dpr}))};// Signals: lower voltage -> easier to deflect (lower stiffness)\nconst s1=makeSignal(w,Math.round(h*0.42),dpr,'0.8V','rgba(56,189,248,0.7)',0.06,8*dpr);const s2=makeSignal(w,Math.round(h*0.56),dpr,'1.2V','rgba(34,197,94,0.65)',0.08,9*dpr);const s3=makeSignal(w,Math.round(h*0.70),dpr,'3.3V','rgba(168,85,247,0.6)',0.12,10*dpr);const signals=[s1,s2,s3];// Place some symbols aesthetically along signals\nconst symbols=[];// Along s3: resistor and capacitor to ground\nconst pR=pointAt(s3,s3.total*0.35);symbols.push({kind:'resistor',at:pR,angle:0});const pC={x:pR.x+48*dpr,y:pR.y};symbols.push({kind:'capacitor',at:pC,angle:Math.PI/2});// Diode on s2\nconst pD=pointAt(s2,s2.total*0.6);symbols.push({kind:'diode',at:pD,angle:0});// Op-amp floating mid\nsymbols.push({kind:'opamp',at:{x:Math.round(w*0.78),y:Math.round(h*0.48)},angle:0});// Ground near bottom left\nsymbols.push({kind:'ground',at:{x:Math.round(w*0.08),y:Math.round(h*0.88)}});stateRef.current={w,h,rail,signals,symbols};// Static background: grid, power rail base, symbols, labels\nconst sctx=sCanvas.getContext('2d');if(!sctx)return;sctx.clearRect(0,0,w,h);// PCB grid\nsctx.save();sctx.strokeStyle='rgba(8,145,178,0.18)';sctx.lineWidth=1*dpr;const step=72*dpr;for(let x=0;x<w;x+=step){sctx.beginPath();sctx.moveTo(x,0);sctx.lineTo(x,h);sctx.stroke();}for(let y=0;y<h;y+=step){sctx.beginPath();sctx.moveTo(0,y);sctx.lineTo(w,y);sctx.stroke();}sctx.restore();// Power rail line (thicker, subtle gradient)\nconst grad=sctx.createLinearGradient(0,rail.y,w,rail.y);grad.addColorStop(0,'rgba(239,68,68,0.35)');grad.addColorStop(1,'rgba(239,68,68,0.55)');sctx.strokeStyle=grad;sctx.lineWidth=rail.thickness;sctx.beginPath();sctx.moveTo(0,rail.y);sctx.lineTo(w,rail.y);sctx.stroke();// Plus marks and voltage label\nsctx.fillStyle='rgba(239,68,68,0.85)';sctx.font=\"\".concat(Math.max(10,11*dpr),\"px system-ui, -apple-system, Segoe UI, Roboto, sans-serif\");sctx.textAlign='left';sctx.textBaseline='middle';for(let x=24*dpr;x<w;x+=110*dpr)sctx.fillText('+',x,rail.y-7*dpr);sctx.fillText(\"Vrail = \".concat(rail.voltage.toFixed(1),\"V\"),18*dpr,rail.y-18*dpr);// Static symbols\ndrawSymbols(sctx,symbols,dpr);},[]);const step=dt=>{const st=stateRef.current;const canvas=dynamicRef.current;if(!st||!canvas)return;const{w,h,rail,signals}=st;const dpr=dprRef.current;const ctx=canvas.getContext('2d');if(!ctx)return;timeRef.current+=dt;// Clear dynamic layer\nctx.clearRect(0,0,w,h);// Light wobble of signal control points (lower voltage -> looser)\nfor(const sig of signals){for(let i=0;i<sig.points.length;i++){const p=sig.points[i];// Keep x fixed; modulate y slightly\nconst a=(1-sig.stiffness)*5*dpr;// amplitude\nconst wv=0.001+sig.stiffness*0.003;// frequency\np.y=p.y0+a*Math.sin((timeRef.current+i*350)*wv);}// Recompute segments and total\nsig.segs.length=0;sig.total=0;for(let i=0;i<sig.points.length-1;i++){const ax={x:sig.points[i].x,y:sig.points[i].y};const bx={x:sig.points[i+1].x,y:sig.points[i+1].y};const len=Math.hypot(bx.x-ax.x,bx.y-ax.y);sig.segs.push({ax,bx,len});sig.total+=len;}}// Draw signals (wire) and carriers (+)\nctx.lineWidth=1*dpr;ctx.font=\"\".concat(Math.max(8,9*dpr),\"px system-ui, -apple-system, Segoe UI, Roboto, sans-serif\");ctx.textAlign='center';ctx.textBaseline='middle';for(const sig of signals){// wire\nctx.strokeStyle=sig.color;ctx.beginPath();for(let i=0;i<sig.points.length;i++){const p=sig.points[i];if(i===0)ctx.moveTo(p.x,p.y);else ctx.lineTo(p.x,p.y);}ctx.stroke();// label\nconst mid=pointAt(sig,sig.total*0.08);ctx.fillStyle='rgba(148,163,184,0.9)';ctx.fillText(sig.label,mid.x+8*dpr,mid.y-8*dpr);// carriers\nfor(const c of sig.carriers){c.s+=c.v*dt;if(c.s>sig.total)c.s-=sig.total;const base=pointAt(sig,c.s);// Cursor interaction: positive cursor repels positive carriers strongly on low-V signals\nlet drawX=base.x,drawY=base.y;if(mouse.current.active){const mx=mouse.current.x*dpr,my=mouse.current.y*dpr;const dx=drawX-mx,dy=drawY-my;const r2=dx*dx+dy*dy;const R=(sig.tubeR*5)**2;// influence area ~ 5x tube\nif(r2<R){const inv=1/Math.sqrt(r2+0.0001);const dirx=dx*inv,diry=dy*inv;const strength=(1-r2/R)*(1.8-sig.stiffness)*26*dpr;// softer if stiffer\nconst sign=mouse.current.charge*c.charge;// like charges repel\ndrawX+=dirx*strength*sign;drawY+=diry*strength*sign;}}// tube halo when displaced\nconst displaced=Math.hypot(drawX-base.x,drawY-base.y)>sig.tubeR*0.6;if(displaced){ctx.save();ctx.strokeStyle=sig.color.replace('0.7','0.25').replace('0.65','0.25').replace('0.6','0.25');ctx.lineWidth=2*dpr;ctx.beginPath();ctx.moveTo(base.x,base.y);ctx.lineTo(drawX,drawY);ctx.stroke();ctx.restore();}// carrier dot + label\nctx.fillStyle='rgba(252,211,77,0.9)';// amber-ish for positive quasi-charges\nctx.beginPath();ctx.arc(drawX,drawY,1.5*dpr,0,Math.PI*2);ctx.fill();ctx.fillStyle='rgba(252,211,77,0.95)';ctx.fillText('+',drawX,drawY-0.3*dpr);}}// Power rail electrons (−), minimally affected by cursor\nlet speedSum=0;ctx.fillStyle='rgba(14,165,233,0.95)';for(const e of rail.carriers){e.x+=e.v*dt;if(e.x>w+10*dpr)e.x-=w+20*dpr;speedSum+=e.v;let ex=e.x,ey=rail.y;if(mouse.current.active){const mx=mouse.current.x*dpr,my=mouse.current.y*dpr;const dx=ex-mx,dy=ey-my;const r2=dx*dx+dy*dy;const R=(80*dpr)**2;if(r2<R){const inv=1/Math.sqrt(r2+0.0001);const dirx=dx*inv,diry=dy*inv;// electrons are negative; positive cursor attracts (sign = -1)\nconst sign=-mouse.current.charge;const strength=(1-r2/R)*6*dpr;// muted\nex+=dirx*strength*sign;ey+=diry*strength*sign;}}ctx.beginPath();ctx.arc(ex,ey,1.6*dpr,0,Math.PI*2);ctx.fill();ctx.fillStyle='rgba(14,165,233,0.95)';ctx.font=\"\".concat(Math.max(8,9*dpr),\"px system-ui, -apple-system, Segoe UI, Roboto, sans-serif\");ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('-',ex,ey-0.4*dpr);}// Current indicator (I) small meter top-right; approximate using speed sum\nconst Iraw=speedSum/rail.carriers.length;// px/ms\nconst norm=clamp((Iraw-0.07*dpr)/(0.12*dpr),0,1);const barW=64*dpr,barH=6*dpr;const bx=w-90*dpr,by=rail.y-22*dpr;ctx.save();ctx.fillStyle='rgba(30,41,59,0.35)';ctx.fillRect(bx,by,barW,barH);ctx.fillStyle='rgba(34,197,94,0.85)';ctx.fillRect(bx,by,barW*norm,barH);ctx.fillStyle='rgba(148,163,184,0.9)';ctx.font=\"\".concat(Math.max(9,10*dpr),\"px system-ui, -apple-system, Segoe UI, Roboto, sans-serif\");ctx.textAlign='left';ctx.textBaseline='bottom';ctx.fillText('I (relative)',bx,by-2*dpr);ctx.restore();// Cursor glyph (probe)\nif(mouse.current.active){ctx.save();const mx=mouse.current.x*dpr,my=mouse.current.y*dpr;const col=mouse.current.charge>0?'rgba(239,68,68,0.75)':'rgba(59,130,246,0.75)';ctx.strokeStyle=col;ctx.lineWidth=1.5*dpr;ctx.beginPath();ctx.arc(mx,my,14*dpr,0,Math.PI*2);ctx.stroke();ctx.fillStyle=col;ctx.textAlign='center';ctx.textBaseline='middle';ctx.font=\"\".concat(Math.max(10,11*dpr),\"px system-ui, -apple-system, Segoe UI, Roboto, sans-serif\");ctx.fillText(mouse.current.charge>0?'+':'-',mx,my);ctx.restore();}};useEffect(()=>{const sCanvas=staticRef.current;const dCanvas=dynamicRef.current;if(!sCanvas||!dCanvas)return;if(reduceMotion){init();return;}init();let last=performance.now(),accum=0;const tick=now=>{if(!runningRef.current)return;const frame=now-last;last=now;accum+=frame;if(accum>=33){const dt=Math.min(33,accum);accum=0;step(dt);}rafRef.current=requestAnimationFrame(tick);};const start=()=>{if(runningRef.current)return;runningRef.current=true;last=performance.now();rafRef.current=requestAnimationFrame(tick);};const stop=()=>{runningRef.current=false;if(rafRef.current)cancelAnimationFrame(rafRef.current);rafRef.current=null;};// Pause when offscreen\nconst io=new IntersectionObserver(entries=>{for(const e of entries){if(e.isIntersecting)start();else stop();}},{root:null,threshold:0.05});io.observe(dCanvas);// Resize\nconst onResize=()=>init();window.addEventListener('resize',onResize);// Mouse: positive by default, hold Alt to flip to negative\nconst onMove=e=>{mouse.current.x=e.clientX;mouse.current.y=e.clientY;mouse.current.active=true;};const onLeave=()=>{mouse.current.active=false;};const onKey=e=>{mouse.current.charge=e.altKey?-1:1;};window.addEventListener('mousemove',onMove);window.addEventListener('mouseleave',onLeave);window.addEventListener('keydown',onKey);window.addEventListener('keyup',onKey);return()=>{stop();io.disconnect();window.removeEventListener('resize',onResize);window.removeEventListener('mousemove',onMove);window.removeEventListener('mouseleave',onLeave);window.removeEventListener('keydown',onKey);window.removeEventListener('keyup',onKey);};},[reduceMotion,init]);return/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 w-full h-full pointer-events-none select-none\",\"aria-hidden\":true,children:[/*#__PURE__*/_jsx(\"canvas\",{ref:staticRef,className:\"absolute inset-0 w-full h-full\"}),/*#__PURE__*/_jsx(\"canvas\",{ref:dynamicRef,className:\"absolute inset-0 w-full h-full\"})]});};export default CircuitField;","map":{"version":3,"names":["React","useEffect","useRef","useCallback","useReducedMotion","jsx","_jsx","jsxs","_jsxs","CircuitField","staticRef","dynamicRef","runningRef","rafRef","reduceMotion","dprRef","timeRef","mouse","x","y","active","charge","stateRef","rand","a","b","Math","random","clamp","v","lo","hi","max","min","makeSignal","w","dpr","label","color","stiffness","tubeR","points","cols","i","yj","push","x0","y0","segs","total","length","ax","bx","len","hypot","carriers","Array","fill","map","_","s","pointAt","sig","d","seg","t","last","drawSymbols","ctx","syms","save","strokeStyle","fillStyle","lineWidth","kind","at","beginPath","moveTo","lineTo","stroke","ang","angle","ux","cos","uy","sin","px","py","L","off","zig","plate","closePath","font","concat","textAlign","textBaseline","fillText","restore","init","sCanvas","current","dCanvas","rect","getBoundingClientRect","window","devicePixelRatio","floor","width","h","height","railY","round","rail","thickness","voltage","s1","s2","s3","signals","symbols","pR","pC","PI","pD","sctx","getContext","clearRect","step","grad","createLinearGradient","addColorStop","toFixed","dt","st","canvas","p","wv","mid","c","base","drawX","drawY","mx","my","dx","dy","r2","R","inv","sqrt","dirx","diry","strength","sign","displaced","replace","arc","speedSum","e","ex","ey","Iraw","norm","barW","barH","by","fillRect","col","performance","now","accum","tick","frame","requestAnimationFrame","start","stop","cancelAnimationFrame","io","IntersectionObserver","entries","isIntersecting","root","threshold","observe","onResize","addEventListener","onMove","clientX","clientY","onLeave","onKey","altKey","disconnect","removeEventListener","className","children","ref"],"sources":["C:/Github/cvanbibber.github.io/src/components/CircuitField.tsx"],"sourcesContent":["import React, { useEffect, useRef, useCallback } from 'react';\r\nimport { useReducedMotion } from 'motion/react';\r\n\r\n// Redesigned CircuitField: subtle but technical\r\n// - Thick power rail shows electron flow (−) and V/I indicators\r\n// - Several low-voltage signal lines with positive carriers (+) easily pushed by a positive cursor\r\n// - Tasteful random pulses and electronics symbols (resistor, capacitor, diode, op-amp, ground)\r\n// - Performance: dual-canvas, DPR-capped, offscreen pause, reduced-motion static fallback\r\n\r\ntype Vec2 = { x: number; y: number };\r\n\r\ntype Signal = {\r\n  points: Array<{ x0: number; y0: number; x: number; y: number }>; // control points\r\n  segs: Array<{ ax: Vec2; bx: Vec2; len: number }>;\r\n  total: number;\r\n  carriers: Array<{ s: number; v: number; charge: 1 | -1 }>; // s in [0,total]\r\n  color: string;\r\n  tubeR: number; // visual comfort radius\r\n  label: string; // e.g. 1.2V, 3.3V\r\n  stiffness: number; // curve wobble stiffness (higher -> stiffer)\r\n};\r\n\r\ntype SymbolDef =\r\n  | { kind: 'ground'; at: Vec2 }\r\n  | { kind: 'resistor'; at: Vec2; angle: number }\r\n  | { kind: 'capacitor'; at: Vec2; angle: number }\r\n  | { kind: 'diode'; at: Vec2; angle: number }\r\n  | { kind: 'opamp'; at: Vec2; angle: number };\r\n\r\nconst CircuitField: React.FC = () => {\r\n  const staticRef = useRef<HTMLCanvasElement | null>(null);\r\n  const dynamicRef = useRef<HTMLCanvasElement | null>(null);\r\n  const runningRef = useRef(false);\r\n  const rafRef = useRef<number | null>(null);\r\n  const reduceMotion = useReducedMotion();\r\n\r\n  const dprRef = useRef(1);\r\n  const timeRef = useRef(0);\r\n  const mouse = useRef({ x: 0, y: 0, active: false, charge: 1 as 1 | -1 }); // +1 positive probe, Alt toggles -1\r\n\r\n  const stateRef = useRef<\r\n    | {\r\n        w: number;\r\n        h: number;\r\n        rail: {\r\n          y: number;\r\n          thickness: number;\r\n          voltage: number; // volts\r\n          carriers: Array<{ x: number; v: number }>;\r\n        };\r\n        signals: Signal[];\r\n        symbols: SymbolDef[];\r\n      }\r\n    | null\r\n  >(null);\r\n\r\n  const rand = (a: number, b: number) => Math.random() * (b - a) + a;\r\n  const clamp = (v: number, lo: number, hi: number) => Math.max(lo, Math.min(hi, v));\r\n\r\n  // Build a left-to-right polyline with slight vertical variation\r\n  const makeSignal = (w: number, y: number, dpr: number, label: string, color: string, stiffness: number, tubeR: number): Signal => {\r\n    const points: Array<{ x0: number; y0: number; x: number; y: number }> = [];\r\n    const cols = 6;\r\n    for (let i = 0; i < cols; i++) {\r\n      const x = (i / (cols - 1)) * (w - 40 * dpr) + 20 * dpr; // 20px margin\r\n      const yj = y + rand(-8, 8) * dpr;\r\n      points.push({ x0: x, y0: yj, x, y: yj });\r\n    }\r\n    // Segments and total length\r\n    const segs: Array<{ ax: Vec2; bx: Vec2; len: number }> = [];\r\n    let total = 0;\r\n    for (let i = 0; i < points.length - 1; i++) {\r\n      const ax = { x: points[i].x, y: points[i].y };\r\n      const bx = { x: points[i + 1].x, y: points[i + 1].y };\r\n      const len = Math.hypot(bx.x - ax.x, bx.y - ax.y);\r\n      segs.push({ ax, bx, len });\r\n      total += len;\r\n    }\r\n    const carriers = new Array(9).fill(0).map((_, i) => ({ s: (i / 9) * total, v: rand(0.045, 0.08) * dpr, charge: 1 as 1 }));\r\n    return { points, segs, total, carriers, color, tubeR, label, stiffness };\r\n  };\r\n\r\n  const pointAt = (sig: Signal, s: number): Vec2 => {\r\n    // wrap s into [0,total]\r\n    let d = s % sig.total; if (d < 0) d += sig.total;\r\n    for (let i = 0; i < sig.segs.length; i++) {\r\n      const seg = sig.segs[i];\r\n      if (d <= seg.len) {\r\n        const t = seg.len ? d / seg.len : 0;\r\n        return { x: seg.ax.x + (seg.bx.x - seg.ax.x) * t, y: seg.ax.y + (seg.bx.y - seg.ax.y) * t };\r\n      }\r\n      d -= seg.len;\r\n    }\r\n    // fallback end\r\n    const last = sig.segs[sig.segs.length - 1];\r\n    return { x: last.bx.x, y: last.bx.y };\r\n  };\r\n\r\n  const drawSymbols = (ctx: CanvasRenderingContext2D, syms: SymbolDef[], dpr: number) => {\r\n    ctx.save();\r\n    ctx.strokeStyle = 'rgba(148,163,184,0.55)'; // slate-400\r\n    ctx.fillStyle = 'rgba(148,163,184,0.7)';\r\n    ctx.lineWidth = 1 * dpr;\r\n    for (const s of syms) {\r\n      if (s.kind === 'ground') {\r\n        const { x, y } = s.at;\r\n        ctx.beginPath(); ctx.moveTo(x, y - 10 * dpr); ctx.lineTo(x, y - 2 * dpr); ctx.stroke();\r\n        ctx.beginPath(); ctx.moveTo(x - 6 * dpr, y); ctx.lineTo(x + 6 * dpr, y); ctx.stroke();\r\n        ctx.beginPath(); ctx.moveTo(x - 4 * dpr, y + 3 * dpr); ctx.lineTo(x + 4 * dpr, y + 3 * dpr); ctx.stroke();\r\n        ctx.beginPath(); ctx.moveTo(x - 2 * dpr, y + 6 * dpr); ctx.lineTo(x + 2 * dpr, y + 6 * dpr); ctx.stroke();\r\n      } else if (s.kind === 'resistor') {\r\n        const { x, y } = s.at; const ang = s.angle;\r\n        const ux = Math.cos(ang), uy = Math.sin(ang);\r\n        const px = -uy, py = ux;\r\n        ctx.beginPath();\r\n        const L = 24 * dpr; const off = 4 * dpr;\r\n        ctx.moveTo(x - ux * L, y - uy * L);\r\n        for (let i = -5; i <= 5; i++) {\r\n          const zig = (i % 2 === 0 ? off : -off);\r\n          const t = (i / 5) * (L * 0.7);\r\n          ctx.lineTo(x + ux * t + px * zig, y + uy * t + py * zig);\r\n        }\r\n        ctx.lineTo(x + ux * L, y + uy * L);\r\n        ctx.stroke();\r\n      } else if (s.kind === 'capacitor') {\r\n        const { x, y } = s.at; const ang = s.angle;\r\n        const ux = Math.cos(ang), uy = Math.sin(ang);\r\n        const px = -uy, py = ux;\r\n        const L = 9 * dpr, plate = 6 * dpr;\r\n        ctx.beginPath(); ctx.moveTo(x - ux * L + px * plate, y - uy * L + py * plate);\r\n        ctx.lineTo(x - ux * L - px * plate, y - uy * L - py * plate); ctx.stroke();\r\n        ctx.beginPath(); ctx.moveTo(x + ux * L + px * plate, y + uy * L + py * plate);\r\n        ctx.lineTo(x + ux * L - px * plate, y + uy * L - py * plate); ctx.stroke();\r\n      } else if (s.kind === 'diode') {\r\n        const { x, y } = s.at; const ang = s.angle;\r\n        const ux = Math.cos(ang), uy = Math.sin(ang);\r\n        const px = -uy, py = ux;\r\n        const L = 16 * dpr;\r\n        // triangle\r\n        ctx.beginPath();\r\n        ctx.moveTo(x - ux * L * 0.6, y - uy * L * 0.6);\r\n        ctx.lineTo(x, y);\r\n        ctx.lineTo(x - px * L * 0.5 - ux * L * 0.2, y - py * L * 0.5 - uy * L * 0.2);\r\n        ctx.closePath(); ctx.stroke();\r\n        // bar\r\n        ctx.beginPath(); ctx.moveTo(x + ux * L * 0.4 + px * L * 0.5, y + uy * L * 0.4 + py * L * 0.5);\r\n        ctx.lineTo(x + ux * L * 0.4 - px * L * 0.5, y + uy * L * 0.4 - py * L * 0.5); ctx.stroke();\r\n      } else if (s.kind === 'opamp') {\r\n        const { x, y } = s.at; const ang = s.angle;\r\n        const ux = Math.cos(ang), uy = Math.sin(ang);\r\n        const px = -uy, py = ux;\r\n        const L = 22 * dpr;\r\n        // triangle body\r\n        ctx.beginPath();\r\n        ctx.moveTo(x - ux * L, y - uy * L);\r\n        ctx.lineTo(x + px * L * 0.6, y + py * L * 0.6);\r\n        ctx.lineTo(x - px * L * 0.6, y - py * L * 0.6);\r\n        ctx.closePath(); ctx.stroke();\r\n        // + and - inputs\r\n        ctx.font = `${Math.max(9, 10 * dpr)}px system-ui, -apple-system, Segoe UI, Roboto, sans-serif`;\r\n        ctx.textAlign = 'center'; ctx.textBaseline = 'middle';\r\n        ctx.fillText('+', x - px * L * 0.9, y - py * L * 0.9);\r\n        ctx.fillText('-', x + px * L * 0.9, y + py * L * 0.9);\r\n      }\r\n    }\r\n    ctx.restore();\r\n  };\r\n\r\n  const init = useCallback(() => {\r\n    const sCanvas = staticRef.current;\r\n    const dCanvas = dynamicRef.current;\r\n    if (!sCanvas || !dCanvas) return;\r\n\r\n    const rect = sCanvas.getBoundingClientRect();\r\n    const dpr = Math.min(window.devicePixelRatio || 1, 1.75); // cap for perf\r\n    dprRef.current = dpr;\r\n    const w = Math.max(1, Math.floor(rect.width * dpr));\r\n    const h = Math.max(1, Math.floor(rect.height * dpr));\r\n    sCanvas.width = w; sCanvas.height = h;\r\n    dCanvas.width = w; dCanvas.height = h;\r\n\r\n    // Power rail\r\n    const railY = Math.round(h * 0.22);\r\n    const rail = {\r\n      y: railY,\r\n      thickness: Math.max(3, 4 * dpr),\r\n      voltage: 5.0,\r\n      carriers: new Array(18).fill(0).map(() => ({ x: Math.random() * w, v: (0.07 + Math.random() * 0.05) * dpr }))\r\n    };\r\n\r\n    // Signals: lower voltage -> easier to deflect (lower stiffness)\r\n    const s1 = makeSignal(w, Math.round(h * 0.42), dpr, '0.8V', 'rgba(56,189,248,0.7)', 0.06, 8 * dpr);\r\n    const s2 = makeSignal(w, Math.round(h * 0.56), dpr, '1.2V', 'rgba(34,197,94,0.65)', 0.08, 9 * dpr);\r\n    const s3 = makeSignal(w, Math.round(h * 0.70), dpr, '3.3V', 'rgba(168,85,247,0.6)', 0.12, 10 * dpr);\r\n    const signals = [s1, s2, s3];\r\n\r\n    // Place some symbols aesthetically along signals\r\n    const symbols: SymbolDef[] = [];\r\n    // Along s3: resistor and capacitor to ground\r\n    const pR = pointAt(s3, s3.total * 0.35); symbols.push({ kind: 'resistor', at: pR, angle: 0 });\r\n    const pC = { x: pR.x + 48 * dpr, y: pR.y }; symbols.push({ kind: 'capacitor', at: pC, angle: Math.PI / 2 });\r\n    // Diode on s2\r\n    const pD = pointAt(s2, s2.total * 0.6); symbols.push({ kind: 'diode', at: pD, angle: 0 });\r\n    // Op-amp floating mid\r\n    symbols.push({ kind: 'opamp', at: { x: Math.round(w * 0.78), y: Math.round(h * 0.48) }, angle: 0 });\r\n    // Ground near bottom left\r\n    symbols.push({ kind: 'ground', at: { x: Math.round(w * 0.08), y: Math.round(h * 0.88) } });\r\n\r\n    stateRef.current = { w, h, rail, signals, symbols };\r\n\r\n    // Static background: grid, power rail base, symbols, labels\r\n    const sctx = sCanvas.getContext('2d');\r\n    if (!sctx) return;\r\n    sctx.clearRect(0, 0, w, h);\r\n\r\n    // PCB grid\r\n    sctx.save();\r\n    sctx.strokeStyle = 'rgba(8,145,178,0.18)';\r\n    sctx.lineWidth = 1 * dpr;\r\n    const step = 72 * dpr;\r\n    for (let x = 0; x < w; x += step) { sctx.beginPath(); sctx.moveTo(x, 0); sctx.lineTo(x, h); sctx.stroke(); }\r\n    for (let y = 0; y < h; y += step) { sctx.beginPath(); sctx.moveTo(0, y); sctx.lineTo(w, y); sctx.stroke(); }\r\n    sctx.restore();\r\n\r\n    // Power rail line (thicker, subtle gradient)\r\n    const grad = sctx.createLinearGradient(0, rail.y, w, rail.y);\r\n    grad.addColorStop(0, 'rgba(239,68,68,0.35)');\r\n    grad.addColorStop(1, 'rgba(239,68,68,0.55)');\r\n    sctx.strokeStyle = grad;\r\n    sctx.lineWidth = rail.thickness;\r\n    sctx.beginPath(); sctx.moveTo(0, rail.y); sctx.lineTo(w, rail.y); sctx.stroke();\r\n    // Plus marks and voltage label\r\n    sctx.fillStyle = 'rgba(239,68,68,0.85)';\r\n    sctx.font = `${Math.max(10, 11 * dpr)}px system-ui, -apple-system, Segoe UI, Roboto, sans-serif`;\r\n    sctx.textAlign = 'left'; sctx.textBaseline = 'middle';\r\n    for (let x = 24 * dpr; x < w; x += 110 * dpr) sctx.fillText('+', x, rail.y - 7 * dpr);\r\n    sctx.fillText(`Vrail = ${rail.voltage.toFixed(1)}V`, 18 * dpr, rail.y - 18 * dpr);\r\n\r\n    // Static symbols\r\n    drawSymbols(sctx, symbols, dpr);\r\n  }, []);\r\n\r\n  const step = (dt: number) => {\r\n    const st = stateRef.current; const canvas = dynamicRef.current;\r\n    if (!st || !canvas) return;\r\n    const { w, h, rail, signals } = st; const dpr = dprRef.current;\r\n    const ctx = canvas.getContext('2d'); if (!ctx) return;\r\n    timeRef.current += dt;\r\n\r\n    // Clear dynamic layer\r\n    ctx.clearRect(0, 0, w, h);\r\n\r\n    // Light wobble of signal control points (lower voltage -> looser)\r\n    for (const sig of signals) {\r\n      for (let i = 0; i < sig.points.length; i++) {\r\n        const p = sig.points[i];\r\n        // Keep x fixed; modulate y slightly\r\n        const a = (1 - sig.stiffness) * 5 * dpr; // amplitude\r\n        const wv = 0.001 + sig.stiffness * 0.003; // frequency\r\n        p.y = p.y0 + a * Math.sin((timeRef.current + i * 350) * wv);\r\n      }\r\n      // Recompute segments and total\r\n      sig.segs.length = 0; sig.total = 0;\r\n      for (let i = 0; i < sig.points.length - 1; i++) {\r\n        const ax = { x: sig.points[i].x, y: sig.points[i].y };\r\n        const bx = { x: sig.points[i + 1].x, y: sig.points[i + 1].y };\r\n        const len = Math.hypot(bx.x - ax.x, bx.y - ax.y);\r\n        sig.segs.push({ ax, bx, len }); sig.total += len;\r\n      }\r\n    }\r\n\r\n    // Draw signals (wire) and carriers (+)\r\n    ctx.lineWidth = 1 * dpr;\r\n    ctx.font = `${Math.max(8, 9 * dpr)}px system-ui, -apple-system, Segoe UI, Roboto, sans-serif`;\r\n    ctx.textAlign = 'center'; ctx.textBaseline = 'middle';\r\n    for (const sig of signals) {\r\n      // wire\r\n      ctx.strokeStyle = sig.color;\r\n      ctx.beginPath();\r\n      for (let i = 0; i < sig.points.length; i++) {\r\n        const p = sig.points[i]; if (i === 0) ctx.moveTo(p.x, p.y); else ctx.lineTo(p.x, p.y);\r\n      }\r\n      ctx.stroke();\r\n      // label\r\n      const mid = pointAt(sig, sig.total * 0.08);\r\n      ctx.fillStyle = 'rgba(148,163,184,0.9)';\r\n      ctx.fillText(sig.label, mid.x + 8 * dpr, mid.y - 8 * dpr);\r\n\r\n      // carriers\r\n      for (const c of sig.carriers) {\r\n        c.s += c.v * dt; if (c.s > sig.total) c.s -= sig.total;\r\n        const base = pointAt(sig, c.s);\r\n\r\n        // Cursor interaction: positive cursor repels positive carriers strongly on low-V signals\r\n        let drawX = base.x, drawY = base.y;\r\n        if (mouse.current.active) {\r\n          const mx = mouse.current.x * dpr, my = mouse.current.y * dpr;\r\n          const dx = drawX - mx, dy = drawY - my; const r2 = dx * dx + dy * dy;\r\n          const R = (sig.tubeR * 5) ** 2; // influence area ~ 5x tube\r\n          if (r2 < R) {\r\n            const inv = 1 / Math.sqrt(r2 + 0.0001);\r\n            const dirx = dx * inv, diry = dy * inv;\r\n            const strength = (1 - r2 / R) * (1.8 - sig.stiffness) * 26 * dpr; // softer if stiffer\r\n            const sign = mouse.current.charge * c.charge; // like charges repel\r\n            drawX += dirx * strength * sign;\r\n            drawY += diry * strength * sign;\r\n          }\r\n        }\r\n\r\n        // tube halo when displaced\r\n        const displaced = Math.hypot(drawX - base.x, drawY - base.y) > sig.tubeR * 0.6;\r\n        if (displaced) {\r\n          ctx.save();\r\n          ctx.strokeStyle = sig.color.replace('0.7', '0.25').replace('0.65', '0.25').replace('0.6', '0.25');\r\n          ctx.lineWidth = 2 * dpr;\r\n          ctx.beginPath(); ctx.moveTo(base.x, base.y); ctx.lineTo(drawX, drawY); ctx.stroke();\r\n          ctx.restore();\r\n        }\r\n\r\n        // carrier dot + label\r\n        ctx.fillStyle = 'rgba(252,211,77,0.9)'; // amber-ish for positive quasi-charges\r\n        ctx.beginPath(); ctx.arc(drawX, drawY, 1.5 * dpr, 0, Math.PI * 2); ctx.fill();\r\n        ctx.fillStyle = 'rgba(252,211,77,0.95)';\r\n        ctx.fillText('+', drawX, drawY - 0.3 * dpr);\r\n      }\r\n    }\r\n\r\n    // Power rail electrons (−), minimally affected by cursor\r\n    let speedSum = 0;\r\n    ctx.fillStyle = 'rgba(14,165,233,0.95)';\r\n    for (const e of rail.carriers) {\r\n      e.x += e.v * dt; if (e.x > w + 10 * dpr) e.x -= (w + 20 * dpr);\r\n      speedSum += e.v;\r\n      let ex = e.x, ey = rail.y;\r\n      if (mouse.current.active) {\r\n        const mx = mouse.current.x * dpr, my = mouse.current.y * dpr;\r\n        const dx = ex - mx, dy = ey - my; const r2 = dx * dx + dy * dy;\r\n        const R = (80 * dpr) ** 2;\r\n        if (r2 < R) {\r\n          const inv = 1 / Math.sqrt(r2 + 0.0001);\r\n          const dirx = dx * inv, diry = dy * inv;\r\n          // electrons are negative; positive cursor attracts (sign = -1)\r\n          const sign = -mouse.current.charge;\r\n          const strength = (1 - r2 / R) * 6 * dpr; // muted\r\n          ex += dirx * strength * sign;\r\n          ey += diry * strength * sign;\r\n        }\r\n      }\r\n      ctx.beginPath(); ctx.arc(ex, ey, 1.6 * dpr, 0, Math.PI * 2); ctx.fill();\r\n      ctx.fillStyle = 'rgba(14,165,233,0.95)'; ctx.font = `${Math.max(8, 9 * dpr)}px system-ui, -apple-system, Segoe UI, Roboto, sans-serif`;\r\n      ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText('-', ex, ey - 0.4 * dpr);\r\n    }\r\n\r\n    // Current indicator (I) small meter top-right; approximate using speed sum\r\n    const Iraw = speedSum / rail.carriers.length; // px/ms\r\n    const norm = clamp((Iraw - 0.07 * dpr) / (0.12 * dpr), 0, 1);\r\n    const barW = 64 * dpr, barH = 6 * dpr; const bx = w - 90 * dpr, by = rail.y - 22 * dpr;\r\n    ctx.save();\r\n    ctx.fillStyle = 'rgba(30,41,59,0.35)'; ctx.fillRect(bx, by, barW, barH);\r\n    ctx.fillStyle = 'rgba(34,197,94,0.85)'; ctx.fillRect(bx, by, barW * norm, barH);\r\n    ctx.fillStyle = 'rgba(148,163,184,0.9)'; ctx.font = `${Math.max(9, 10 * dpr)}px system-ui, -apple-system, Segoe UI, Roboto, sans-serif`;\r\n    ctx.textAlign = 'left'; ctx.textBaseline = 'bottom';\r\n    ctx.fillText('I (relative)', bx, by - 2 * dpr);\r\n    ctx.restore();\r\n\r\n    // Cursor glyph (probe)\r\n    if (mouse.current.active) {\r\n      ctx.save();\r\n      const mx = mouse.current.x * dpr, my = mouse.current.y * dpr;\r\n      const col = mouse.current.charge > 0 ? 'rgba(239,68,68,0.75)' : 'rgba(59,130,246,0.75)';\r\n      ctx.strokeStyle = col; ctx.lineWidth = 1.5 * dpr;\r\n      ctx.beginPath(); ctx.arc(mx, my, 14 * dpr, 0, Math.PI * 2); ctx.stroke();\r\n      ctx.fillStyle = col; ctx.textAlign = 'center'; ctx.textBaseline = 'middle';\r\n      ctx.font = `${Math.max(10, 11 * dpr)}px system-ui, -apple-system, Segoe UI, Roboto, sans-serif`;\r\n      ctx.fillText(mouse.current.charge > 0 ? '+' : '-', mx, my);\r\n      ctx.restore();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const sCanvas = staticRef.current; const dCanvas = dynamicRef.current;\r\n    if (!sCanvas || !dCanvas) return;\r\n\r\n    if (reduceMotion) { init(); return; }\r\n    init();\r\n\r\n    let last = performance.now(), accum = 0;\r\n    const tick = (now: number) => {\r\n      if (!runningRef.current) return;\r\n      const frame = now - last; last = now; accum += frame;\r\n      if (accum >= 33) { const dt = Math.min(33, accum); accum = 0; step(dt); }\r\n      rafRef.current = requestAnimationFrame(tick);\r\n    };\r\n    const start = () => { if (runningRef.current) return; runningRef.current = true; last = performance.now(); rafRef.current = requestAnimationFrame(tick); };\r\n    const stop = () => { runningRef.current = false; if (rafRef.current) cancelAnimationFrame(rafRef.current); rafRef.current = null; };\r\n\r\n    // Pause when offscreen\r\n    const io = new IntersectionObserver((entries) => { for (const e of entries) { if (e.isIntersecting) start(); else stop(); } }, { root: null, threshold: 0.05 });\r\n    io.observe(dCanvas);\r\n\r\n    // Resize\r\n    const onResize = () => init();\r\n    window.addEventListener('resize', onResize);\r\n\r\n    // Mouse: positive by default, hold Alt to flip to negative\r\n    const onMove = (e: MouseEvent) => { mouse.current.x = e.clientX; mouse.current.y = e.clientY; mouse.current.active = true; };\r\n    const onLeave = () => { mouse.current.active = false; };\r\n    const onKey = (e: KeyboardEvent) => { mouse.current.charge = e.altKey ? -1 : 1; };\r\n    window.addEventListener('mousemove', onMove);\r\n    window.addEventListener('mouseleave', onLeave);\r\n    window.addEventListener('keydown', onKey);\r\n    window.addEventListener('keyup', onKey);\r\n\r\n    return () => {\r\n      stop(); io.disconnect();\r\n      window.removeEventListener('resize', onResize);\r\n      window.removeEventListener('mousemove', onMove);\r\n      window.removeEventListener('mouseleave', onLeave);\r\n      window.removeEventListener('keydown', onKey);\r\n      window.removeEventListener('keyup', onKey);\r\n    };\r\n  }, [reduceMotion, init]);\r\n\r\n  return (\r\n    <div className=\"absolute inset-0 w-full h-full pointer-events-none select-none\" aria-hidden>\r\n      <canvas ref={staticRef} className=\"absolute inset-0 w-full h-full\" />\r\n      <canvas ref={dynamicRef} className=\"absolute inset-0 w-full h-full\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CircuitField;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}