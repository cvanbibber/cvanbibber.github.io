{"ast":null,"code":"import React,{useEffect,useRef}from'react';// Canvas-based electron field with simple physics and mouse repulsion\n// Lightweight and runs only when the hero is in view via IntersectionObserver\nimport{jsx as _jsx}from\"react/jsx-runtime\";const ElectronField=()=>{const canvasRef=useRef(null);const containerRef=useRef(null);const animRef=useRef(null);const runningRef=useRef(false);const mouse=useRef({x:0,y:0,active:false});useEffect(()=>{const canvas=canvasRef.current;const ctx=canvas.getContext('2d');const resize=()=>{const rect=canvas.parentElement.getBoundingClientRect();canvas.width=rect.width;canvas.height=rect.height;};resize();window.addEventListener('resize',resize);const electrons=Array.from({length:32}).map(()=>({x:Math.random()*canvas.width,y:Math.random()*canvas.height,vx:(Math.random()-0.5)*0.6,vy:(Math.random()-0.5)*0.6,q:-1// charge (all electrons)\n}));const tick=()=>{ctx.clearRect(0,0,canvas.width,canvas.height);// Draw subtle conductive path lines\nctx.strokeStyle='rgba(100, 181, 246, 0.15)';ctx.lineWidth=1;for(let i=0;i<electrons.length;i++){for(let j=i+1;j<electrons.length;j++){const a=electrons[i];const b=electrons[j];const dx=a.x-b.x;const dy=a.y-b.y;const d2=dx*dx+dy*dy;if(d2<120*120){const alpha=0.2*(1-d2/(120*120));ctx.globalAlpha=alpha;ctx.beginPath();ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.stroke();ctx.globalAlpha=1;}}}// Update electrons with mouse repulsion and mild friction\nelectrons.forEach(e=>{if(mouse.current.active){const dx=e.x-mouse.current.x;const dy=e.y-mouse.current.y;const d2=dx*dx+dy*dy+0.001;const force=12000/d2;// inverse-square\ne.vx+=dx/Math.sqrt(d2)*force*0.05;e.vy+=dy/Math.sqrt(d2)*force*0.05;}// friction\ne.vx*=0.992;e.vy*=0.992;// move\ne.x+=e.vx;e.y+=e.vy;// bounds reflect\nif(e.x<0||e.x>canvas.width)e.vx*=-1;if(e.y<0||e.y>canvas.height)e.vy*=-1;e.x=Math.max(0,Math.min(canvas.width,e.x));e.y=Math.max(0,Math.min(canvas.height,e.y));});// Draw electrons\nelectrons.forEach(e=>{ctx.beginPath();ctx.arc(e.x,e.y,2,0,Math.PI*2);ctx.fillStyle='rgba(56, 189, 248, 0.9)';ctx.fill();});animRef.current=requestAnimationFrame(tick);};const start=()=>{if(!runningRef.current){runningRef.current=true;animRef.current=requestAnimationFrame(tick);}};const stop=()=>{if(runningRef.current){runningRef.current=false;if(animRef.current)cancelAnimationFrame(animRef.current);}};const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting)start();else stop();});},{threshold:0.1});observer.observe(containerRef.current);const onMove=e=>{const rect=canvas.getBoundingClientRect();mouse.current.x=e.clientX-rect.left;mouse.current.y=e.clientY-rect.top;mouse.current.active=true;};const onLeave=()=>mouse.current.active=false;canvas.addEventListener('mousemove',onMove);canvas.addEventListener('mouseleave',onLeave);return()=>{window.removeEventListener('resize',resize);observer.disconnect();canvas.removeEventListener('mousemove',onMove);canvas.removeEventListener('mouseleave',onLeave);stop();};},[]);return/*#__PURE__*/_jsx(\"div\",{ref:containerRef,className:\"absolute inset-0\",children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"w-full h-full\"})});};export default ElectronField;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","ElectronField","canvasRef","containerRef","animRef","runningRef","mouse","x","y","active","canvas","current","ctx","getContext","resize","rect","parentElement","getBoundingClientRect","width","height","window","addEventListener","electrons","Array","from","length","map","Math","random","vx","vy","q","tick","clearRect","strokeStyle","lineWidth","i","j","a","b","dx","dy","d2","alpha","globalAlpha","beginPath","moveTo","lineTo","stroke","forEach","e","force","sqrt","max","min","arc","PI","fillStyle","fill","requestAnimationFrame","start","stop","cancelAnimationFrame","observer","IntersectionObserver","entries","entry","isIntersecting","threshold","observe","onMove","clientX","left","clientY","top","onLeave","removeEventListener","disconnect","ref","className","children"],"sources":["C:/Github/cvanbibber.github.io/src/components/ElectronField.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\n// Canvas-based electron field with simple physics and mouse repulsion\r\n// Lightweight and runs only when the hero is in view via IntersectionObserver\r\nconst ElectronField: React.FC = () => {\r\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const animRef = useRef<number | null>(null);\r\n  const runningRef = useRef<boolean>(false);\r\n  const mouse = useRef({ x: 0, y: 0, active: false });\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current!;\r\n    const ctx = canvas.getContext('2d')!;\r\n\r\n    const resize = () => {\r\n      const rect = canvas.parentElement!.getBoundingClientRect();\r\n      canvas.width = rect.width;\r\n      canvas.height = rect.height;\r\n    };\r\n    resize();\r\n    window.addEventListener('resize', resize);\r\n\r\n    const electrons = Array.from({ length: 32 }).map(() => ({\r\n      x: Math.random() * canvas.width,\r\n      y: Math.random() * canvas.height,\r\n      vx: (Math.random() - 0.5) * 0.6,\r\n      vy: (Math.random() - 0.5) * 0.6,\r\n      q: -1, // charge (all electrons)\r\n    }));\r\n\r\n    const tick = () => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Draw subtle conductive path lines\r\n      ctx.strokeStyle = 'rgba(100, 181, 246, 0.15)';\r\n      ctx.lineWidth = 1;\r\n      for (let i = 0; i < electrons.length; i++) {\r\n        for (let j = i + 1; j < electrons.length; j++) {\r\n          const a = electrons[i];\r\n          const b = electrons[j];\r\n          const dx = a.x - b.x;\r\n          const dy = a.y - b.y;\r\n          const d2 = dx * dx + dy * dy;\r\n          if (d2 < 120 * 120) {\r\n            const alpha = 0.2 * (1 - d2 / (120 * 120));\r\n            ctx.globalAlpha = alpha;\r\n            ctx.beginPath();\r\n            ctx.moveTo(a.x, a.y);\r\n            ctx.lineTo(b.x, b.y);\r\n            ctx.stroke();\r\n            ctx.globalAlpha = 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Update electrons with mouse repulsion and mild friction\r\n      electrons.forEach(e => {\r\n        if (mouse.current.active) {\r\n          const dx = e.x - mouse.current.x;\r\n          const dy = e.y - mouse.current.y;\r\n          const d2 = dx * dx + dy * dy + 0.001;\r\n          const force = 12000 / d2; // inverse-square\r\n          e.vx += (dx / Math.sqrt(d2)) * force * 0.05;\r\n          e.vy += (dy / Math.sqrt(d2)) * force * 0.05;\r\n        }\r\n        // friction\r\n        e.vx *= 0.992;\r\n        e.vy *= 0.992;\r\n        // move\r\n        e.x += e.vx;\r\n        e.y += e.vy;\r\n        // bounds reflect\r\n        if (e.x < 0 || e.x > canvas.width) e.vx *= -1;\r\n        if (e.y < 0 || e.y > canvas.height) e.vy *= -1;\r\n        e.x = Math.max(0, Math.min(canvas.width, e.x));\r\n        e.y = Math.max(0, Math.min(canvas.height, e.y));\r\n      });\r\n\r\n      // Draw electrons\r\n      electrons.forEach(e => {\r\n        ctx.beginPath();\r\n        ctx.arc(e.x, e.y, 2, 0, Math.PI * 2);\r\n        ctx.fillStyle = 'rgba(56, 189, 248, 0.9)';\r\n        ctx.fill();\r\n      });\r\n\r\n      animRef.current = requestAnimationFrame(tick);\r\n    };\r\n\r\n    const start = () => {\r\n      if (!runningRef.current) {\r\n        runningRef.current = true;\r\n        animRef.current = requestAnimationFrame(tick);\r\n      }\r\n    };\r\n    const stop = () => {\r\n      if (runningRef.current) {\r\n        runningRef.current = false;\r\n        if (animRef.current) cancelAnimationFrame(animRef.current);\r\n      }\r\n    };\r\n\r\n    const observer = new IntersectionObserver(\r\n      entries => {\r\n        entries.forEach(entry => {\r\n          if (entry.isIntersecting) start();\r\n          else stop();\r\n        });\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n    observer.observe(containerRef.current!);\r\n\r\n    const onMove = (e: MouseEvent) => {\r\n      const rect = canvas.getBoundingClientRect();\r\n      mouse.current.x = e.clientX - rect.left;\r\n      mouse.current.y = e.clientY - rect.top;\r\n      mouse.current.active = true;\r\n    };\r\n    const onLeave = () => (mouse.current.active = false);\r\n\r\n    canvas.addEventListener('mousemove', onMove);\r\n    canvas.addEventListener('mouseleave', onLeave);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', resize);\r\n      observer.disconnect();\r\n      canvas.removeEventListener('mousemove', onMove);\r\n      canvas.removeEventListener('mouseleave', onLeave);\r\n      stop();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"absolute inset-0\">\r\n      <canvas ref={canvasRef} className=\"w-full h-full\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ElectronField;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEhD;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,aAAuB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAAAC,SAAS,CAAGJ,MAAM,CAA2B,IAAI,CAAC,CACxD,KAAM,CAAAK,YAAY,CAAGL,MAAM,CAAwB,IAAI,CAAC,CACxD,KAAM,CAAAM,OAAO,CAAGN,MAAM,CAAgB,IAAI,CAAC,CAC3C,KAAM,CAAAO,UAAU,CAAGP,MAAM,CAAU,KAAK,CAAC,CACzC,KAAM,CAAAQ,KAAK,CAAGR,MAAM,CAAC,CAAES,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEC,MAAM,CAAE,KAAM,CAAC,CAAC,CAEnDZ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,MAAM,CAAGR,SAAS,CAACS,OAAQ,CACjC,KAAM,CAAAC,GAAG,CAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAE,CAEpC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAAC,IAAI,CAAGL,MAAM,CAACM,aAAa,CAAEC,qBAAqB,CAAC,CAAC,CAC1DP,MAAM,CAACQ,KAAK,CAAGH,IAAI,CAACG,KAAK,CACzBR,MAAM,CAACS,MAAM,CAAGJ,IAAI,CAACI,MAAM,CAC7B,CAAC,CACDL,MAAM,CAAC,CAAC,CACRM,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAEP,MAAM,CAAC,CAEzC,KAAM,CAAAQ,SAAS,CAAGC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAC,CAACC,GAAG,CAAC,KAAO,CACtDnB,CAAC,CAAEoB,IAAI,CAACC,MAAM,CAAC,CAAC,CAAGlB,MAAM,CAACQ,KAAK,CAC/BV,CAAC,CAAEmB,IAAI,CAACC,MAAM,CAAC,CAAC,CAAGlB,MAAM,CAACS,MAAM,CAChCU,EAAE,CAAE,CAACF,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,EAAI,GAAG,CAC/BE,EAAE,CAAE,CAACH,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,EAAI,GAAG,CAC/BG,CAAC,CAAE,CAAC,CAAG;AACT,CAAC,CAAC,CAAC,CAEH,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjBpB,GAAG,CAACqB,SAAS,CAAC,CAAC,CAAE,CAAC,CAAEvB,MAAM,CAACQ,KAAK,CAAER,MAAM,CAACS,MAAM,CAAC,CAEhD;AACAP,GAAG,CAACsB,WAAW,CAAG,2BAA2B,CAC7CtB,GAAG,CAACuB,SAAS,CAAG,CAAC,CACjB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGd,SAAS,CAACG,MAAM,CAAEW,CAAC,EAAE,CAAE,CACzC,IAAK,GAAI,CAAAC,CAAC,CAAGD,CAAC,CAAG,CAAC,CAAEC,CAAC,CAAGf,SAAS,CAACG,MAAM,CAAEY,CAAC,EAAE,CAAE,CAC7C,KAAM,CAAAC,CAAC,CAAGhB,SAAS,CAACc,CAAC,CAAC,CACtB,KAAM,CAAAG,CAAC,CAAGjB,SAAS,CAACe,CAAC,CAAC,CACtB,KAAM,CAAAG,EAAE,CAAGF,CAAC,CAAC/B,CAAC,CAAGgC,CAAC,CAAChC,CAAC,CACpB,KAAM,CAAAkC,EAAE,CAAGH,CAAC,CAAC9B,CAAC,CAAG+B,CAAC,CAAC/B,CAAC,CACpB,KAAM,CAAAkC,EAAE,CAAGF,EAAE,CAAGA,EAAE,CAAGC,EAAE,CAAGA,EAAE,CAC5B,GAAIC,EAAE,CAAG,GAAG,CAAG,GAAG,CAAE,CAClB,KAAM,CAAAC,KAAK,CAAG,GAAG,EAAI,CAAC,CAAGD,EAAE,EAAI,GAAG,CAAG,GAAG,CAAC,CAAC,CAC1C9B,GAAG,CAACgC,WAAW,CAAGD,KAAK,CACvB/B,GAAG,CAACiC,SAAS,CAAC,CAAC,CACfjC,GAAG,CAACkC,MAAM,CAACR,CAAC,CAAC/B,CAAC,CAAE+B,CAAC,CAAC9B,CAAC,CAAC,CACpBI,GAAG,CAACmC,MAAM,CAACR,CAAC,CAAChC,CAAC,CAAEgC,CAAC,CAAC/B,CAAC,CAAC,CACpBI,GAAG,CAACoC,MAAM,CAAC,CAAC,CACZpC,GAAG,CAACgC,WAAW,CAAG,CAAC,CACrB,CACF,CACF,CAEA;AACAtB,SAAS,CAAC2B,OAAO,CAACC,CAAC,EAAI,CACrB,GAAI5C,KAAK,CAACK,OAAO,CAACF,MAAM,CAAE,CACxB,KAAM,CAAA+B,EAAE,CAAGU,CAAC,CAAC3C,CAAC,CAAGD,KAAK,CAACK,OAAO,CAACJ,CAAC,CAChC,KAAM,CAAAkC,EAAE,CAAGS,CAAC,CAAC1C,CAAC,CAAGF,KAAK,CAACK,OAAO,CAACH,CAAC,CAChC,KAAM,CAAAkC,EAAE,CAAGF,EAAE,CAAGA,EAAE,CAAGC,EAAE,CAAGA,EAAE,CAAG,KAAK,CACpC,KAAM,CAAAU,KAAK,CAAG,KAAK,CAAGT,EAAE,CAAE;AAC1BQ,CAAC,CAACrB,EAAE,EAAKW,EAAE,CAAGb,IAAI,CAACyB,IAAI,CAACV,EAAE,CAAC,CAAIS,KAAK,CAAG,IAAI,CAC3CD,CAAC,CAACpB,EAAE,EAAKW,EAAE,CAAGd,IAAI,CAACyB,IAAI,CAACV,EAAE,CAAC,CAAIS,KAAK,CAAG,IAAI,CAC7C,CACA;AACAD,CAAC,CAACrB,EAAE,EAAI,KAAK,CACbqB,CAAC,CAACpB,EAAE,EAAI,KAAK,CACb;AACAoB,CAAC,CAAC3C,CAAC,EAAI2C,CAAC,CAACrB,EAAE,CACXqB,CAAC,CAAC1C,CAAC,EAAI0C,CAAC,CAACpB,EAAE,CACX;AACA,GAAIoB,CAAC,CAAC3C,CAAC,CAAG,CAAC,EAAI2C,CAAC,CAAC3C,CAAC,CAAGG,MAAM,CAACQ,KAAK,CAAEgC,CAAC,CAACrB,EAAE,EAAI,CAAC,CAAC,CAC7C,GAAIqB,CAAC,CAAC1C,CAAC,CAAG,CAAC,EAAI0C,CAAC,CAAC1C,CAAC,CAAGE,MAAM,CAACS,MAAM,CAAE+B,CAAC,CAACpB,EAAE,EAAI,CAAC,CAAC,CAC9CoB,CAAC,CAAC3C,CAAC,CAAGoB,IAAI,CAAC0B,GAAG,CAAC,CAAC,CAAE1B,IAAI,CAAC2B,GAAG,CAAC5C,MAAM,CAACQ,KAAK,CAAEgC,CAAC,CAAC3C,CAAC,CAAC,CAAC,CAC9C2C,CAAC,CAAC1C,CAAC,CAAGmB,IAAI,CAAC0B,GAAG,CAAC,CAAC,CAAE1B,IAAI,CAAC2B,GAAG,CAAC5C,MAAM,CAACS,MAAM,CAAE+B,CAAC,CAAC1C,CAAC,CAAC,CAAC,CACjD,CAAC,CAAC,CAEF;AACAc,SAAS,CAAC2B,OAAO,CAACC,CAAC,EAAI,CACrBtC,GAAG,CAACiC,SAAS,CAAC,CAAC,CACfjC,GAAG,CAAC2C,GAAG,CAACL,CAAC,CAAC3C,CAAC,CAAE2C,CAAC,CAAC1C,CAAC,CAAE,CAAC,CAAE,CAAC,CAAEmB,IAAI,CAAC6B,EAAE,CAAG,CAAC,CAAC,CACpC5C,GAAG,CAAC6C,SAAS,CAAG,yBAAyB,CACzC7C,GAAG,CAAC8C,IAAI,CAAC,CAAC,CACZ,CAAC,CAAC,CAEFtD,OAAO,CAACO,OAAO,CAAGgD,qBAAqB,CAAC3B,IAAI,CAAC,CAC/C,CAAC,CAED,KAAM,CAAA4B,KAAK,CAAGA,CAAA,GAAM,CAClB,GAAI,CAACvD,UAAU,CAACM,OAAO,CAAE,CACvBN,UAAU,CAACM,OAAO,CAAG,IAAI,CACzBP,OAAO,CAACO,OAAO,CAAGgD,qBAAqB,CAAC3B,IAAI,CAAC,CAC/C,CACF,CAAC,CACD,KAAM,CAAA6B,IAAI,CAAGA,CAAA,GAAM,CACjB,GAAIxD,UAAU,CAACM,OAAO,CAAE,CACtBN,UAAU,CAACM,OAAO,CAAG,KAAK,CAC1B,GAAIP,OAAO,CAACO,OAAO,CAAEmD,oBAAoB,CAAC1D,OAAO,CAACO,OAAO,CAAC,CAC5D,CACF,CAAC,CAED,KAAM,CAAAoD,QAAQ,CAAG,GAAI,CAAAC,oBAAoB,CACvCC,OAAO,EAAI,CACTA,OAAO,CAAChB,OAAO,CAACiB,KAAK,EAAI,CACvB,GAAIA,KAAK,CAACC,cAAc,CAAEP,KAAK,CAAC,CAAC,CAAC,IAC7B,CAAAC,IAAI,CAAC,CAAC,CACb,CAAC,CAAC,CACJ,CAAC,CACD,CAAEO,SAAS,CAAE,GAAI,CACnB,CAAC,CACDL,QAAQ,CAACM,OAAO,CAAClE,YAAY,CAACQ,OAAQ,CAAC,CAEvC,KAAM,CAAA2D,MAAM,CAAIpB,CAAa,EAAK,CAChC,KAAM,CAAAnC,IAAI,CAAGL,MAAM,CAACO,qBAAqB,CAAC,CAAC,CAC3CX,KAAK,CAACK,OAAO,CAACJ,CAAC,CAAG2C,CAAC,CAACqB,OAAO,CAAGxD,IAAI,CAACyD,IAAI,CACvClE,KAAK,CAACK,OAAO,CAACH,CAAC,CAAG0C,CAAC,CAACuB,OAAO,CAAG1D,IAAI,CAAC2D,GAAG,CACtCpE,KAAK,CAACK,OAAO,CAACF,MAAM,CAAG,IAAI,CAC7B,CAAC,CACD,KAAM,CAAAkE,OAAO,CAAGA,CAAA,GAAOrE,KAAK,CAACK,OAAO,CAACF,MAAM,CAAG,KAAM,CAEpDC,MAAM,CAACW,gBAAgB,CAAC,WAAW,CAAEiD,MAAM,CAAC,CAC5C5D,MAAM,CAACW,gBAAgB,CAAC,YAAY,CAAEsD,OAAO,CAAC,CAE9C,MAAO,IAAM,CACXvD,MAAM,CAACwD,mBAAmB,CAAC,QAAQ,CAAE9D,MAAM,CAAC,CAC5CiD,QAAQ,CAACc,UAAU,CAAC,CAAC,CACrBnE,MAAM,CAACkE,mBAAmB,CAAC,WAAW,CAAEN,MAAM,CAAC,CAC/C5D,MAAM,CAACkE,mBAAmB,CAAC,YAAY,CAAED,OAAO,CAAC,CACjDd,IAAI,CAAC,CAAC,CACR,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE7D,IAAA,QAAK8E,GAAG,CAAE3E,YAAa,CAAC4E,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAClDhF,IAAA,WAAQ8E,GAAG,CAAE5E,SAAU,CAAC6E,SAAS,CAAC,eAAe,CAAE,CAAC,CACjD,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9E,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}